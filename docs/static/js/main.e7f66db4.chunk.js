(this.webpackJsonpnenrei=this.webpackJsonpnenrei||[]).push([[0],{151:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(10),c=n.n(r),o=n(101),s=n(80),i=n.n(s),l=n(100),d=n(190),u=n(204),j=n(192),b=n(206),h=n(207),p=n(208),f=n(71),O=n(209),x=n(210),m=n(205),g=n(160),v=n(94),w=n(40),y=n.n(w),k=n(4),C=Object(d.a)((function(e){return y()({backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff",backgroundColor:"rgba(0, 0, 0, 0.8)"}})})),N=function(){var e=C(),t=Object(a.useContext)(ue),n=t.state,r=t.dispatch;return Object(k.jsx)("div",{children:Object(k.jsx)(g.a,{className:e.backdrop,"data-e2e":"backdrop",open:n.qrOpen,onClick:function(){return r({type:"qr",value:!1})},children:Object(k.jsx)(v.QRCode,{value:"https://sprout2000.github.io/nenrei"})})})},S=n(195),W=n(211),F=n(194),q=n(17),B=n(157),T=function(e){return Object(k.jsx)(B.a,Object(q.a)(Object(q.a)({},e),{},{direction:"down"}))},D=function(){var e=Object(a.useContext)(ue),t=e.state,n=e.dispatch,r=function(e,t){"clickaway"!==t&&n({type:"snack",value:!1})};return Object(k.jsx)(W.a,{open:t.snackOpen,TransitionComponent:T,autoHideDuration:2500,onClose:r,children:Object(k.jsx)(F.a,{message:"\xa9 2019-2021 sprout2000.",action:Object(k.jsx)(S.a,{color:"secondary",size:"small",onClick:r,children:"OK"})})})},I=n(66),P=n.n(I),R=n(196),E=n(197),L=n(158),M=n(198),z=n(199),A=n(200),H=n(212),U=n(96),J=n.n(U),Y=n(97),_=n.n(Y),G=n(98),K=n.n(G),Q=n(69),$=n(48),V=n(95),X=P()((function(e){return y()({drawer:{width:250,flexShrink:0},drawerPaper:{width:250},drawerContent:{width:250},drawerHeader:{height:150,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"1em",backgroundColor:"#ff375f",color:"#ffffff",fontFamily:"-apple-system, BlinkMacSystemFont, Roboto, sans-serif"},version:{marginTop:e.spacing(2)}})})),Z=function(){var e=Object(a.useContext)(ue),t=e.state,n=e.dispatch,r=X();return Object(k.jsx)(R.a,{className:r.drawer,variant:"temporary",classes:{paper:r.drawerPaper},open:t.drawerOpen,onClose:function(){return n({type:"drawer",value:!t.drawerOpen})},children:Object(k.jsxs)("div",{className:r.drawerContent,role:"presentation",onClick:function(){return n({type:"drawer",value:!t.drawerOpen})},children:[Object(k.jsxs)("div",{className:r.drawerHeader,children:[Object(k.jsx)(H.a,{alt:"Logo",src:"./icon-288.png"}),Object(k.jsxs)(f.a,{className:r.version,children:["\u5e74\u9f62\u8a08\u7b97 v",Object(k.jsx)("span",{"data-e2e":"version",children:V.version})]})]}),Object(k.jsxs)(E.a,{children:[Object(k.jsxs)(L.a,{"data-e2e":"share",button:!0,onClick:function(){return n({type:"qr",value:!0})},children:[Object(k.jsx)(M.a,{children:Object(k.jsx)(J.a,{style:{color:Q.a[500]}})}),Object(k.jsx)(z.a,{secondary:"\u3053\u306e\u30a2\u30d7\u30ea\u3092\u5171\u6709"})]}),Object(k.jsxs)(L.a,{button:!0,onClick:function(){window.open("https://github.com/sprout2000/nenrei","_blank")},children:[Object(k.jsx)(M.a,{children:Object(k.jsx)(_.a,{style:{color:$.a.black}})}),Object(k.jsx)(z.a,{secondary:"\u30ec\u30dd\u30b8\u30c8\u30ea"})]}),Object(k.jsx)(A.a,{}),Object(k.jsxs)(L.a,{button:!0,onClick:function(){return n({type:"snack",value:!0})},children:[Object(k.jsx)(M.a,{children:Object(k.jsx)(K.a,{color:"secondary"})}),Object(k.jsx)(z.a,{secondary:"\u30e9\u30a4\u30bb\u30f3\u30b9\u306e\u8868\u793a"})]})]})]})})},ee=n(203),te=n(201),ne=n(202),ae=n(99),re=n.n(ae),ce=P()((function(e){return y()({toolbar:{backgroundColor:"#ff375f"},iconButton:{marginRight:e.spacing(2)},title:{flexGrow:1}})})),oe=function(){var e=Object(a.useContext)(ue),t=e.state,n=e.dispatch,r=ce();return Object(k.jsx)(te.a,{position:"fixed",children:Object(k.jsxs)(ne.a,{className:r.toolbar,children:[Object(k.jsx)(ee.a,{onClick:function(){return n({type:"drawer",value:!t.drawerOpen})},edge:"start","data-e2e":"menu",className:r.iconButton,color:"inherit","aria-label":"menu",children:Object(k.jsx)(re.a,{})}),Object(k.jsx)(f.a,{className:r.title,children:"\u5e74\u9f62\u8a08\u7b97"})]})})},se=function(e,t){switch(t.type){case"month":return Object(q.a)(Object(q.a)({},e),{},{month:t.value});case"year":return Object(q.a)(Object(q.a)({},e),{},{year:t.value});case"drawer":return Object(q.a)(Object(q.a)({},e),{},{drawerOpen:t.value});case"qr":return Object(q.a)(Object(q.a)({},e),{},{qrOpen:t.value});case"snack":return Object(q.a)(Object(q.a)({},e),{},{snackOpen:t.value});default:return e}},ie={year:1989,month:4,drawerOpen:!1,qrOpen:!1,snackOpen:!1},le=Object(l.a)({overrides:{MuiCssBaseline:{"@global":{html:{margin:0,padding:0,userSelect:"none",WebkitUserSelect:"none",WebkitTouchCallout:"none",WebkitTapHighlightColor:"transparent !important",height:"100%"},body:{height:"100%"},"#root":{height:"100%"}}}}}),de=Object(d.a)((function(e){return Object(u.a)({offset:e.mixins.toolbar,root:{margin:0,padding:0,fontFamily:"-apple-system, BlinkMacSystemFont, Roboto, sans-serif",height:"100%",backgroundColor:"#efeff4",position:"relative",overflow:"hidden"},icon:{margin:"0 auto",padding:0},content:{textAlign:"center",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},card:{margin:"1em auto",width:"80vw",maxWidth:400,color:"#666"},label:{fontWeight:"bold",color:"rgb(0, 122, 255)",letterSpacing:"0.25em",userSelect:"none"},form:{minWidth:250,padding:10},select:{minWidth:200},answer:{fontWeight:"bold",color:"rgb(255, 45, 85)",letterSpacing:"0.25em"},age:{fontSize:"6em",color:"#1f1f21"},eto:{userSelect:"text"}})})),ue=Object(a.createContext)({}),je=function(){var e,t=Object(a.useReducer)(se,ie),n=Object(o.a)(t,2),r=n[0],c=n[1],s=de(),l=function(e,t){for(var n=[],a=e;a<=t;a++){var r="",c=0;a<1926?(r="\u5927\u6b63",c=1911):a<1989?(r="\u662d\u548c",c=1925):a<2019?(r="\u5e73\u6210",c=1988):(r="\u4ee4\u548c",c=2018);var o=a-c,s=1971===a?"year":"";n.push(Object(k.jsx)(m.a,{value:a,"data-e2e":s,children:Object(k.jsxs)(f.a,{children:[r,1===o?"\u5143":o,"\u5e74 (",a,")"]})},a))}return n}((new Date).getFullYear()-100,(new Date).getFullYear()),d=function(){for(var e=[],t=1;t<=12;t++){var n=1===t?"month":"";e.push(Object(k.jsx)(m.a,{value:t,"data-e2e":n,children:Object(k.jsxs)(f.a,{children:[t,"\u6708"]})},t))}return e}();return Object(a.useEffect)((function(){i.a.getItem("nenrei-20210401").then((function(e){var t;e&&(null!==(t=e)&&"object"===typeof t&&"number"===typeof t.year&&"number"===typeof t.month)?(c({type:"year",value:e.year}),c({type:"month",value:e.month})):(c({type:"year",value:1989}),c({type:"month",value:4}))})).catch((function(e){return console.error(e)}))}),[]),Object(a.useEffect)((function(){i.a.setItem("nenrei-20210401",{year:r.year,month:r.month}).catch((function(e){return console.error(e)}))}),[r.month,r.year]),Object(k.jsx)(ue.Provider,{value:{state:r,dispatch:c},children:Object(k.jsxs)(j.a,{theme:le,children:[Object(k.jsx)(b.a,{}),Object(k.jsxs)("div",{className:s.root,children:[Object(k.jsx)(b.a,{}),Object(k.jsx)(N,{}),Object(k.jsx)(oe,{}),Object(k.jsx)(Z,{}),Object(k.jsxs)("div",{className:s.content,children:[Object(k.jsx)("div",{className:s.offset}),Object(k.jsx)("div",{className:s.icon,children:Object(k.jsx)("img",{src:"./icon-288.png",width:96,height:96,alt:"\u5e74\u9f62\u8a08\u7b97"})}),Object(k.jsx)(D,{}),Object(k.jsx)(h.a,{className:s.card,children:Object(k.jsxs)(p.a,{children:[Object(k.jsx)(f.a,{className:s.label,children:"\u751f\u307e\u308c\u5e74\u3068\u6708"}),Object(k.jsx)("div",{children:Object(k.jsx)(O.a,{variant:"outlined",className:s.form,children:Object(k.jsx)(x.a,{"data-e2e":"year-selector",className:s.select,value:r.year,onChange:function(e){c({type:"year",value:Number(e.target.value)})},children:l})})}),Object(k.jsx)("div",{children:Object(k.jsx)(O.a,{variant:"outlined",className:s.form,children:Object(k.jsx)(x.a,{"data-e2e":"month-selector",className:s.select,value:r.month,onChange:function(e){c({type:"month",value:Number(e.target.value)})},children:d})})})]})}),Object(k.jsx)(h.a,{className:s.card,children:Object(k.jsxs)(p.a,{children:[Object(k.jsx)(f.a,{className:s.answer,children:"\u5e74\u9f62"}),Object(k.jsxs)(f.a,{children:["\u6e80",Object(k.jsx)("span",{className:s.age,children:Object(k.jsx)("span",{"data-e2e":"age",children:function(e,t){var n=1e4*e+100*t+1,a=new Date,r=1e4*a.getFullYear()+100*(a.getMonth()+1)+1;return Math.floor((r-n)/1e4)}(r.year,r.month)})}),"\u6b73"]}),Object(k.jsx)(f.a,{children:Object(k.jsx)("span",{className:s.eto,children:Object(k.jsx)("span",{"data-e2e":"eto",children:(e=r.year,"".concat(["\u5e9a","\u8f9b","\u58ec","\u7678","\u7532","\u4e59","\u4e19","\u4e01","\u620a","\u5df1"][e%10]).concat(["\u7533\uff08\u3055\u308b\uff09","\u9149\uff08\u3068\u308a\uff09","\u620c\uff08\u3044\u306c\uff09","\u4ea5\uff08\u3044\u306e\u3057\u3057\uff09","\u5b50\uff08\u306d\u305a\u307f\uff09","\u4e11\uff08\u3046\u3057\uff09","\u5bc5\uff08\u3068\u3089\uff09","\u536f\uff08\u3046\u3055\u304e\uff09","\u8fb0\uff08\u305f\u3064\uff09","\u5df3\uff08\u3078\u3073\uff09","\u5348\uff08\u3046\u307e\uff09","\u672a\uff08\u3072\u3064\u3058\uff09"][e%12]))})})})]})})]})]})]})})},be=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function he(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var pe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,213)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),a(e),r(e),c(e),o(e)}))};c.a.render(Object(k.jsx)(je,{}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");be?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):he(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):he(t,e)}))}}(),pe()},95:function(e){e.exports=JSON.parse('{"name":"nenrei","productName":"\u5e74\u9f62\u8a08\u7b97","version":"2.0.0","private":true,"dependencies":{"@material-ui/core":"^4.11.4","@material-ui/icons":"^4.11.2","@testing-library/jest-dom":"^5.11.4","@testing-library/react":"^11.1.0","@testing-library/user-event":"^12.1.10","@types/jest":"^26.0.15","@types/node":"^12.0.0","@types/react":"^16.9.53","@types/react-dom":"^16.9.8","localforage":"^1.9.0","react":"^17.0.2","react-dom":"^17.0.2","react-qrcode-logo":"^2.4.0","react-scripts":"4.0.3","typescript":"^4.0.3","web-vitals":"^0.2.4","workbox-background-sync":"^5.1.3","workbox-broadcast-update":"^5.1.3","workbox-cacheable-response":"^5.1.3","workbox-core":"^5.1.3","workbox-expiration":"^5.1.3","workbox-google-analytics":"^5.1.3","workbox-navigation-preload":"^5.1.3","workbox-precaching":"^5.1.3","workbox-range-requests":"^5.1.3","workbox-routing":"^5.1.3","workbox-strategies":"^5.1.3","workbox-streams":"^5.1.3"},"scripts":{"start":"react-scripts start","build":"react-scripts build","test":"react-scripts test","eject":"react-scripts eject"},"eslintConfig":{"extends":["react-app","react-app/jest"]},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]},"devDependencies":{"eslint-config-prettier":"^8.3.0","prettier":"^2.3.2"}}')}},[[151,1,2]]]);
//# sourceMappingURL=main.e7f66db4.chunk.js.map